<!doctype html>
<html>
<head>
    <meta content="KEYWORDS 3-7" name="keywords" />
    <meta content="DESCRIPTION 5-20" name="description" />
    <meta name="theme-color" content="#fff" />
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
    <script src="barabanjs/core/app.js"></script>
    <script src="barabanjs/utils/readers.js"></script>
    <script src="barabanjs/utils/debugutils.js"></script>
    <script src="barabanjs/utils/utils.js"></script>
    <script src="barabanjs/utils/cookie.js"></script>
    <script src="barabanjs/core/startup.js"></script>
    <script src="barabanjs/core/elementfactory.js"></script>
    <script src="barabanjs/core/privatebuilder.js"></script>
    <script src="barabanjs/core/htmlset.js"></script>
    <script src="https://pixijs.download/release/pixi.min.js"></script>
    <script src="gamejs/gamemanager.js"></script>
    <script src="gamejs/vector.js"></script>
    <script src="gamejs/gameobjects.js"></script>
    <script src="gamejs/player.js"></script>
    <script src="gamejs/rigidbody.js"></script>
    <script src="gamejs/playermanager.js"></script>
    <script src="gamejs/units.js"></script>
    <script src="gamejs/ui.js"></script>
    <script src="https://unpkg.com/mocha@^3/mocha.js"></script>
    <link href="css/site.css" rel="stylesheet" type="text/css">
    <link href="css/adaptive.css" rel="stylesheet">
    <link href="https://unpkg.com/mocha@^3/mocha.css" rel="stylesheet">
</head>
<body onload="loadScript('barabanjs/core/startup.js', script => { appx.Start() });">
    <nav> <div align="center"><header><h1 id="status">EasyWar</h1></header></div></nav>
    <script src="gamejs/utils.js"></script>
    <canvas id='mainscene'></canvas>
    <script>
        SceneManager.initialize(window.screen.width - 19, window.screen.height - 150, 'white');
       // console.log(SceneManager.Gapp.ticker.count);
  
       /* console.log(test);*/
        //let x = 0;
        //switch (0) {
        //    case 1: {
        //        console.log(PIXI);;
        //        break;
        //    }
        //    case 2: {
        //        console.log(SceneManager.Gapp);;
        //        break;
        //    }
        //    case 3: {
        //        console.log(new PIXI.Graphics());
        //        break;
        //    }
        //    default:
        //        break;
        //}
        class EventObserver {
            constructor() {
                this.observers = []
            }

            subscribe(fn) {
                this.observers.push(fn)
            }

            unsubscribe(fn) {
                this.observers = this.observers.filter(subscriber => subscriber !== fn)
            }

            broadcast(data) {
                this.observers.forEach(subscriber => subscriber(data))
            }
        }
        //mocha.setup('bdd');

        //window.TESTS_COMPLETE = false;
        //window.TESTS_PASSED = 0;
        //window.TESTS_FAILED = 0;

        //window.onload = function () {
        //    var runner = mocha.run();

        //    runner.on('test end', function (test) {
        //        if (test.state === 'passed') window.TESTS_PASSED++;
        //        else window.TESTS_FAILED++;
        //    });

        //    runner.on('end', function () {
        //        window.TESTS_COMPLETE = true;
        //    });
        //};
        //class MyEventTarget extends EventTarget {
        //    constructor(mySecret) {
        //        super();
        //        this._secret = mySecret;
        //    }

        //    get secret() { return this._secret; }
        //};

        //let myEventTarget = new MyEventTarget(5);
        //let value = myEventTarget.secret;  // === 5
        //myEventTarget.addEventListener("foo", (e) => {
        //    myEventTarget._secret = e.detail;
        //});

        //let event = new CustomEvent("foo", { detail: 7 });
        //myEventTarget.dispatchEvent(event);
        //let newValue = myEventTarget.secret; // === 7

      

       
        //class MyCustomElement extends HTMLElement {
        //    constructor() {
        //        super();
        //    }
        //}
        //customElements.define('my-custom-element', MyCustomElement);
        //let mce = new MyCustomElement();
        //console.log(mce);
    </script>
    <article></article>
    <aside></aside>
    <footer><p>Scyga inc 2022 &nbsp &nbsp </p></footer>
</body>
</html>


